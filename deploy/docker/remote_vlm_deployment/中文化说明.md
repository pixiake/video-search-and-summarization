# VSS 系统中文化说明

## ✅ 已完成的中文化（全面升级版）

### 1. Prompt 中文化（自动生效）

已修改 `config.yaml` 中的所有默认提示词为中文：

| 配置项 | 说明 | 状态 |
|--------|------|------|
| `caption` | VLM 视频描述提示词 | ✅ 已中文化 |
| `caption_summarization` | 摘要生成提示词 | ✅ 已中文化 |
| `summary_aggregation` | 摘要聚合提示词 | ✅ 已中文化 |

**重启服务后自动生效**。

---

### 2. UI 界面中文化（全面版 - 已覆盖 100+ 文本）

**已中文化的内容：**
- ✅ 所有按钮文字（20+ 个）
- ✅ 所有 Tab 标签页（10+ 个）
- ✅ 所有输入框标签（15+ 个）
- ✅ 所有复选框（10+ 个）
- ✅ 所有参数标签（25+ 个）
- ✅ 所有折叠面板（10+ 个）
- ✅ 所有状态消息（10+ 个）
- ✅ 所有提示信息（10+ 个）

#### 方式A：一键脚本（最简单，推荐）

```bash
cd /Users/cauchy/gitrepo/video-search-and-summarization/deploy/docker/remote_vlm_deployment

# 执行一键中文化脚本
bash apply_chinese.sh
```

#### 方式B：手动执行

```bash
# 1. 进入容器（使用正确的容器名称）
docker exec -it remote_vlm_deployment-via-server-1 bash

# 2. 执行中文化补丁
python3 /opt/nvidia/ui_chinese_patch.py

# 3. 退出容器
exit

# 4. 重启服务使UI生效
cd /Users/cauchy/gitrepo/video-search-and-summarization/deploy/docker/remote_vlm_deployment
docker-compose restart via-server
```

---

## 📋 中文化内容列表

### 主界面
- 标题：`Video Search and Summarization Agent` → `视频智能分析系统`
- Tab 页签：
  - `VIDEO FILE SUMMARIZATION & Q&A` → `视频文件摘要与问答`
  - `LIVE STREAM SUMMARIZATION` → `实时流分析`
  - `IMAGE FILE SUMMARIZATION & Q&A` → `图片文件摘要与问答`

### 按钮
- `Summarize` → `生成摘要`
- `Ask` → `提问`
- `Reset Chat` → `重置对话`
- `Delete File` → `删除文件`
- `Show Parameters` → `显示参数`
- `Start` → `开始`
- `Stop` → `停止`

### 子标签页
- `CHAT` → `对话`
- `SUMMARIES` → `摘要`
- `ALERTS` → `告警`
- `VIDEO EVENT SUMMARY` → `视频事件摘要`

### 输入提示
- `Ask a question` → `输入问题`
- `Upload a video file` → `上传视频文件`

---

## 🔄 完整部署流程（中文化版本）

```bash
# 1. 停止服务
cd /Users/cauchy/gitrepo/video-search-and-summarization/deploy/docker/remote_vlm_deployment
docker-compose down

# 2. 启动服务
bash deploy.sh

# 3. 等待服务启动完成（约1-2分钟）
docker logs -f remote_vlm_deployment-via-server-1

# 4. 执行UI中文化（一键脚本）
bash apply_chinese.sh

# 5. 访问中文界面
# http://localhost:9100
```

---

## 🎯 验证中文化效果

1. 打开浏览器访问 `http://localhost:9100`
2. 检查页面标题是否显示为 `视频智能分析系统`
3. 检查 Tab 页签是否为中文
4. 上传视频并生成摘要，检查输出是否为中文

---

## 🛠️ 如果需要自定义Prompt

编辑 `/Users/cauchy/gitrepo/video-search-and-summarization/deploy/docker/remote_vlm_deployment/config.yaml` 中的 `prompts` 部分：

```yaml
prompts:
  caption: "你自定义的视频描述提示词"
  caption_summarization: "你自定义的摘要生成提示词"
  summary_aggregation: "你自定义的摘要聚合提示词"
```

然后重启服务：
```bash
docker-compose restart via-server
```

---

## ⚠️ 注意事项

1. **UI中文化是临时的**：容器重新创建（`docker-compose down && bash deploy.sh`）后需要重新执行补丁脚本
2. **Prompt中文化是持久的**：config.yaml的修改会一直生效
3. **首次使用建议**：先测试Prompt中文化效果，满意后再进行UI中文化

---

## 📝 如果UI中文化后出现问题

恢复英文界面：
```bash
# 重新创建容器即可恢复
cd /Users/cauchy/gitrepo/video-search-and-summarization/deploy/docker/remote_vlm_deployment
docker-compose down
bash deploy.sh
```

---

## 💡 技术说明

- **Prompt中文化**：通过修改 `config.yaml` 实现，挂载到容器中
- **UI中文化**：通过Python脚本替换容器内UI代码中的英文字符串
- **响应中文化**：VLM和LLM模型本身支持中文，Prompt中文化后自动输出中文


